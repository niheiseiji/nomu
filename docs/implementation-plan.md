# nomu 実装方針

## 概要

nomuはAIエージェントとして、チャットUIと日記連携によりユーザーをサポートする。

## 基本仕様

### チャットUI

- 全画面固定で右下に丸いアイコンを配置
- クリックでチャット展開/切り替え
- すべての画面でチャットは切り替わらない（コンテキスト維持）
- トークン数対策：チャット履歴のサマライズ、入出力文字数の制限

## 機能一覧

### 1. 能動的リアクションメッセージ

**概要**: ユーザーの日記情報から能動的にリアクションメッセージを表示する

**目的**: ユーザーの日記内容に対して適切なタイミングで反応し、エンゲージメントを高める

**実装**: 非同期で処理し、一覧の先頭に吹き出しとして発言内容を表示

---

### 2. 新規作成ページへの案内

**概要**: チャット中にユーザーが書く内容がありそうだと検知し、新規作成ページに案内する

**目的**: ユーザーの操作を補助し、日記作成のハードルを下げる

---

### 3. 関連過去記事へのリンク表示

**概要**: チャット中にユーザーが過去の話をすると、関連する過去記事へのリンクを表示する

**目的**: 過去の記録を参照しやすくし、会話の文脈を豊かにする

---

### 4. Googleカレンダー連携

**概要**: ユーザーがリラックスを求めていることを検知したら、能動的にカレンダーにリフレッシュ提案のスケジュールを追加する

**目的**: ユーザーにリラックスする時間を提供し、頭をリフレッシュさせる

**実装**: 
- ユーザー情報に基づいた旅先の提案
- おすすめの紅茶や食べ物の提案
- ユーザーが自分単体では入れないようなスケジュールを提案

---

### 5. 日記作成支援

**概要**: ユーザーが何を日記に書けばいいかわからない様子を検知し、緩やかに内容の提案を行う

**目的**: 日記に書くことは日常で考えたことや些細なことでもいいということを伝え、ユーザーの思考を促す

**実装**: 
- 自動生成の文字で埋め尽くさない
- プレースホルダー的にメタデータ的に生成内容をユーザーに読ませる
- ユーザー自身で入力することが重要であることを維持
